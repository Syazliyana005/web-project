<html>
<head>
    <title>My Gallery</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav>
        <a href="index.html#home">Home</a>
        <a href="index.html#about">About</a>
        <a href="index.html#projects">Projects</a>
        <a href="index.html#experience-skills">Experience & Skills</a>
		<a href="index.html#gallery">Gallery</a>
        <a href="index.html#contact">Contact</a>
    </nav>
   
    <h2>Welcome to My Gallery!</h2>

    <!-- GALLERY PANEL -->
<div class="carousel">
  <!-- Arrow buttons -->
  <button class="arrow prev-arrow">‹</button>
  <button class="arrow next-arrow">›</button>
  
  <!-- Cards -->
  <div class="card" style="--i:0;"><img src="E-Resume/kid.png"></div>
  <div class="card" style="--i:1;"><img src="E-Resume/school.png"></div>
  <div class="card" style="--i:2;"><img src="E-Resume/raya.png"></div>
  <div class="card" style="--i:3;"><img src="E-Resume/firstyear.png"></div>
  <div class="card" style="--i:4;"><img src="E-Resume/secyear.png"></div>
  <div class="card horizontal" style="--i:6;"><img src="E-Resume/sibs.png"></div>
  <div class="card horizontal" style="--i:6;"><img src="E-Resume/fam1.png"></div>
  <div class="card horizontal" style="--i:6;"><img src="E-Resume/fam2.png"></div>
</div>

<!-- Caption container -->
<div class="carousel-caption">My Childhood</div>
<script>
    let current = 0;
let startX = 0;
let currentX = 0;
let isDragging = false;

const carousel = document.querySelector('.carousel');
const cards = document.querySelectorAll('.card');
const prevArrow = document.querySelector('.prev-arrow');
const nextArrow = document.querySelector('.next-arrow');

function updateCards() {
    cards.forEach((card, index) => {
        const distance = index - current;
        const moveX = distance * 260;
        
        const scale = 1 - Math.min(Math.abs(distance) * 0.15, 0.3);
        const opacity = 1 - Math.min(Math.abs(distance) * 0.3, 0.5);
        
        card.style.transform = `
            translateX(${moveX}px)
            scale(${scale})
        `;
        card.style.opacity = opacity;
        card.style.zIndex = 100 - Math.abs(distance);
        
        // Smooth transition
        card.style.transition = 'transform 0.3s ease, opacity 0.3s ease';
    });
    
    // Update arrow states
    prevArrow.style.opacity = current === 0 ? '0.3' : '1';
    prevArrow.style.pointerEvents = current === 0 ? 'none' : 'auto';
    
    nextArrow.style.opacity = current === cards.length - 1 ? '0.3' : '1';
    nextArrow.style.pointerEvents = current === cards.length - 1 ? 'none' : 'auto';
}

// Arrow button functions
function goToNext() {
    if (current < cards.length - 1) {
        current++;
        updateCards();
    }
}

function goToPrev() {
    if (current > 0) {
        current--;
        updateCards();
    }
}

// Arrow click events
prevArrow.addEventListener('click', (e) => {
    e.stopPropagation(); // Prevent event bubbling
    goToPrev();
});

nextArrow.addEventListener('click', (e) => {
    e.stopPropagation(); // Prevent event bubbling
    goToNext();
});

// Keyboard arrow support
document.addEventListener('keydown', (e) => {
    if (!carousel.contains(document.activeElement)) return;
    
    if (e.key === 'ArrowLeft') {
        goToPrev();
    } else if (e.key === 'ArrowRight') {
        goToNext();
    }
});

// TOUCH EVENTS
carousel.addEventListener('touchstart', (e) => {
    e.preventDefault();
    startX = e.touches[0].clientX;
    currentX = startX;
    isDragging = true;
    carousel.classList.add('dragging');
});

carousel.addEventListener('touchmove', (e) => {
    if (!isDragging) return;
    e.preventDefault();
    
    currentX = e.touches[0].clientX;
    const deltaX = currentX - startX;
    
    cards.forEach((card, index) => {
        const distance = index - current;
        const moveX = (distance * 280) + (deltaX * 0.8);
        const scale = 1 - Math.min(Math.abs(distance) * 0.15, 0.3);
        
        card.style.transition = 'none';
        card.style.transform = `translateX(${moveX}px) scale(${scale})`;
    });
});

carousel.addEventListener('touchend', (e) => {
    if (!isDragging) return;
    isDragging = false;
    carousel.classList.remove('dragging');
    
    const deltaX = currentX - startX;
    const threshold = 80;
    
    if (deltaX < -threshold && current < cards.length - 1) {
        goToNext();
    } else if (deltaX > threshold && current > 0) {
        goToPrev();
    } else {
        updateCards(); // Return to original position
    }
});

// MOUSE EVENTS
carousel.addEventListener('mousedown', (e) => {
    // Don't start drag if clicking on arrow
    if (e.target.classList.contains('arrow')) return;
    
    e.preventDefault();
    startX = e.clientX;
    currentX = startX;
    isDragging = true;
    carousel.classList.add('dragging');
});

carousel.addEventListener('mousemove', (e) => {
    if (!isDragging) return;
    
    currentX = e.clientX;
    const deltaX = currentX - startX;
    
    cards.forEach((card, index) => {
        const distance = index - current;
        const moveX = (distance * 280) + (deltaX * 0.8);
        const scale = 1 - Math.min(Math.abs(distance) * 0.15, 0.3);
        
        card.style.transition = 'none';
        card.style.transform = `translateX(${moveX}px) scale(${scale})`;
    });
});

carousel.addEventListener('mouseup', (e) => {
    if (!isDragging) return;
    isDragging = false;
    carousel.classList.remove('dragging');
    
    const deltaX = currentX - startX;
    const threshold = 80;
    
    if (deltaX < -threshold && current < cards.length - 1) {
        goToNext();
    } else if (deltaX > threshold && current > 0) {
        goToPrev();
    } else {
        updateCards();
    }
});

carousel.addEventListener('mouseleave', () => {
    if (isDragging) {
        isDragging = false;
        carousel.classList.remove('dragging');
        updateCards();
    }
});

// Initialize
const captions = [
    "This photo was taken on my 4th birthday, on 16 June 2008.",
    "This photo was taken on my final SPM examination day, marking my official last day as a high school student.",
    "This photo was taken during the Hari Raya Aidilfitri celebration in 2023.",
    "First year at UiTM Kedah, Semester 2 (October 2023).",
    "Second year at UiTM Kedah, Semester 3 (January 2025).",
    "My siblings and I. I am the youngest among us. Despite the small age gaps, we are very close as we are only one year apart from each other.",
    "Pre-convocation photoshoot with my family for my brother, November 2025.",
    "2025 Raya Celebration"
];

const captionDiv = document.querySelector('.carousel-caption');

function updateCards() {
    cards.forEach((card, index) => {
        const distance = index - current;
        const moveX = distance * 260;
        const scale = 1 - Math.min(Math.abs(distance) * 0.15, 0.3);
        const opacity = 1 - Math.min(Math.abs(distance) * 0.3, 0.5);

        card.style.transform = `translateX(${moveX}px) scale(${scale})`;
        card.style.opacity = opacity;
        card.style.zIndex = 100 - Math.abs(distance);
        card.style.transition = 'transform 0.3s ease, opacity 0.3s ease';
    });

    prevArrow.style.opacity = current === 0 ? '0.3' : '1';
    prevArrow.style.pointerEvents = current === 0 ? 'none' : 'auto';
    nextArrow.style.opacity = current === cards.length - 1 ? '0.3' : '1';
    nextArrow.style.pointerEvents = current === cards.length - 1 ? 'none' : 'auto';

    // UPDATE CAPTION
    captionDiv.textContent = captions[current];
}
updateCards();

</script>
</body>

<footer class="site-footer">
    © 2025 Nur Hidayah Syazliyana. All Rights Reserved.
</footer>

</html>
